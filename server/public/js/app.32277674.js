(function(e){function t(t){for(var n,o,s=t[0],u=t[1],i=t[2],f=0,d=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,s=1;s<r.length;s++){var u=r[s];0!==a[u]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0783":function(e,t,r){},1148:function(e,t,r){"use strict";r("a986")},"192f":function(e,t,r){},2693:function(e,t,r){"use strict";r("0783")},"31bd":function(e,t,r){"use strict";r("192f")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function a(e,t){var r=Object(n["v"])("router-view");return Object(n["o"])(),Object(n["d"])(r)}const c={};c.render=a;var o=c,s=r("1da1"),u=(r("96cf"),r("b0c0"),r("6c02")),i=Object(n["C"])("data-v-81970c50");Object(n["r"])("data-v-81970c50");var l={class:"home mt-5"},f={class:"container con-route text-center mt-4"},d=Object(n["e"])(" | ");Object(n["p"])();var b=i((function(e,t,r,a,c,o){var s=Object(n["v"])("Login"),u=Object(n["v"])("Register");return Object(n["o"])(),Object(n["d"])("div",l,["login"==e.selected?(Object(n["o"])(),Object(n["d"])(s,{key:0})):(Object(n["o"])(),Object(n["d"])(u,{key:1})),Object(n["f"])("div",f,[Object(n["f"])("button",{onClick:t[1]||(t[1]=function(t){return e.selected="login"}),class:"btn btn-dark"},"Login"),d,Object(n["f"])("button",{onClick:t[2]||(t[2]=function(t){return e.selected="register"}),class:"btn btn-dark"},"Register")])])})),p=Object(n["C"])("data-v-388cdfba");Object(n["r"])("data-v-388cdfba");var m={class:"login-page"},v={class:"container"},j={class:"box-login text-white rounded"},O=Object(n["f"])("h2",{class:"text-center"},"Login",-1),g={class:"row justify-content-center"},h={class:"col-12 col-md-12 col-lg-8"},x=Object(n["f"])("label",{for:"email",class:"form-label text-left"},"Email",-1),w=Object(n["f"])("label",{for:"pass",class:"form-label text-left mt-2"},"Password",-1);Object(n["p"])();var k=p((function(e,t,r,a,c,o){return Object(n["o"])(),Object(n["d"])("div",m,[Object(n["f"])("div",v,[Object(n["f"])("div",j,[O,Object(n["f"])("div",g,[Object(n["f"])("div",h,[Object(n["f"])("form",{onSubmit:t[3]||(t[3]=function(){return o.loginUser&&o.loginUser.apply(o,arguments)})},[x,Object(n["B"])(Object(n["f"])("input",{type:"email",id:"email",class:"form-control shadow-none","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.email=t})},null,512),[[n["z"],e.email]]),w,Object(n["B"])(Object(n["f"])("input",{type:"password",id:"pass",class:"form-control shadow-none","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.pass=t})},null,512),[[n["z"],e.pass]]),Object(n["f"])("button",{class:"btn btn-dark mt-3 shadow-none",type:"submit",disabled:!e.email||!e.pass}," Login ",8,["disabled"])],32)])])])])])})),y=r("1940"),P=r.n(y),R=r("d4ec"),U=r("bee2"),_=r("e4fd"),S=function(){function e(){Object(R["a"])(this,e)}return Object(U["a"])(e,null,[{key:"createUser",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].post("/api/user",{name:t,email:r,password:n});case 2:return e.next=4,e.sent.data;case 4:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"loginUser",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].post("/api/user/login",{email:t,password:r});case 2:return e.next=4,e.sent.data;case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getProfile",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].get("/api/user/me",{headers:{Authorization:t}});case 2:return e.next=4,e.sent.data;case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logoutUser",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].post("/api/user/logout",{},{headers:{Authorization:t}});case 2:return e.next=4,e.sent.data;case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),E=r("323e"),C=r.n(E),I={data:function(){return{email:"",pass:""}},methods:{loginUser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),C.a.start(),r.prev=2,r.next=5,S.loginUser(t.email,t.pass);case 5:n=r.sent,localStorage.setItem("keeptoken",n.token),t.$router.push({name:"Profile Page"}),r.next=15;break;case 10:if(r.prev=10,r.t0=r["catch"](2),r.t0.data.error){r.next=14;break}return r.abrupt("return",P()("Error!","Unable to login","error"));case 14:P()("Error!",r.t0.data.error,"error");case 15:C.a.done();case 16:case"end":return r.stop()}}),r,null,[[2,10]])})))()}}};r("a731");I.render=k,I.__scopeId="data-v-388cdfba";var z=I,L=Object(n["C"])("data-v-e54a9ad6");Object(n["r"])("data-v-e54a9ad6");var V={class:"register-page"},B={class:"container"},N={class:"box-register text-white rounded"},H=Object(n["f"])("h2",{class:"text-center"},"Register",-1),M={class:"row justify-content-center"},T={class:"col-12 col-md-12 col-lg-8"},A=Object(n["f"])("label",{for:"name",class:"form-label text-left"},"Name",-1),D=Object(n["f"])("label",{for:"email",class:"form-label text-left mt-2"},"Email",-1),J=Object(n["f"])("label",{for:"pass",class:"form-label text-left mt-2"},"Password",-1);Object(n["p"])();var $=L((function(e,t,r,a,c,o){return Object(n["o"])(),Object(n["d"])("div",V,[Object(n["f"])("div",B,[Object(n["f"])("div",N,[H,Object(n["f"])("div",M,[Object(n["f"])("div",T,[Object(n["f"])("form",{onSubmit:t[4]||(t[4]=function(){return o.createNewUser&&o.createNewUser.apply(o,arguments)})},[A,Object(n["B"])(Object(n["f"])("input",{type:"text",id:"name",class:"form-control shadow-none","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.name=t})},null,512),[[n["z"],e.name]]),D,Object(n["B"])(Object(n["f"])("input",{type:"email",id:"email",class:"form-control shadow-none","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.email=t})},null,512),[[n["z"],e.email]]),J,Object(n["B"])(Object(n["f"])("input",{type:"password",id:"pass",class:"form-control shadow-none","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.pass=t})},null,512),[[n["z"],e.pass]]),Object(n["f"])("button",{class:"btn btn-dark mt-3 shadow-none",type:"submit",disabled:!e.name||!e.email||!e.pass}," Register ",8,["disabled"])],32)])])])])])})),q={data:function(){return{name:"",email:"",pass:"",fetched:!1}},watch:{fetched:{handler:function(e){e&&(this.resetValue(),P()({title:"Created",text:"Successfully created an account"}))}}},methods:{createNewUser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return C.a.start(),e.preventDefault(),r.prev=2,r.next=5,S.createUser(t.name,t.email,t.pass);case 5:t.fetched=!0,r.next=14;break;case 8:if(r.prev=8,r.t0=r["catch"](2),r.t0.data.message){r.next=12;break}return r.abrupt("return",P()("Error!","Email already registered","error"));case 12:P()("Error!",r.t0.data.message,"error"),t.fetched=!0;case 14:C.a.done();case 15:case"end":return r.stop()}}),r,null,[[2,8]])})))()},resetValue:function(){this.name="",this.email="",this.pass="",this.fetched=!1}}};r("31bd");q.render=$,q.__scopeId="data-v-e54a9ad6";var F=q,G={name:"Home",components:{Login:z,Register:F},data:function(){return{selected:"register"}}};r("9f5c");G.render=b,G.__scopeId="data-v-81970c50";var K=G,Q=Object(n["C"])("data-v-03ffa4c5");Object(n["r"])("data-v-03ffa4c5");var W={class:"profile-page mt-5"},X={class:"container text-light text-center"},Y=Object(n["f"])("h3",null,"Profile Page",-1),Z={key:0,class:"box-profile rounded mt-4"},ee={key:1,class:"spinner-border text-light mt-3",role:"status"},te=Object(n["f"])("span",{class:"visually-hidden"},"Loading...",-1);Object(n["p"])();var re=Q((function(e,t,r,a,c,o){var s=Object(n["v"])("ProfileCard");return Object(n["o"])(),Object(n["d"])("div",W,[Object(n["f"])("div",X,[Y,o.isEmpty?(Object(n["o"])(),Object(n["d"])("div",ee,[te])):(Object(n["o"])(),Object(n["d"])("div",Z,[(Object(n["o"])(!0),Object(n["d"])(n["a"],null,Object(n["u"])(e.profile,(function(e){return Object(n["o"])(),Object(n["d"])(s,{key:e._id,name:e.name,email:e.email},null,8,["name","email"])})),128))]))])])})),ne=(r("b64b"),Object(n["C"])("data-v-2aa098df"));Object(n["r"])("data-v-2aa098df");var ae={class:"mb-3"},ce={class:"d-grid gap-2 col-6 mx-auto"};Object(n["p"])();var oe=ne((function(e,t,r,a,c,o){return Object(n["o"])(),Object(n["d"])("div",null,[Object(n["f"])("h4",ae,Object(n["x"])(r.name)+" - "+Object(n["x"])(r.email),1),Object(n["f"])("h5",null,"Name : "+Object(n["x"])(r.name),1),Object(n["f"])("h5",null,"Email : "+Object(n["x"])(r.email),1),Object(n["f"])("div",ce,[Object(n["f"])("button",{class:"btn btn-dark shadow-none mt-3",onClick:t[1]||(t[1]=function(){return o.logoutUser&&o.logoutUser.apply(o,arguments)})},"Logout")])])})),se={props:{email:String,name:String},methods:{logoutUser:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return C.a.start(),t.prev=1,t.next=4,S.logoutUser(localStorage.getItem("keeptoken"));case 4:r=t.sent,P()({title:"Success",text:r.message,timer:1e3}),setTimeout((function(){e.$router.push({name:"Home"})}),1500),t.next=14;break;case 9:if(t.prev=9,t.t0=t["catch"](1),t.t0.data.error){t.next=13;break}return t.abrupt("return",P()("Error","Unable to logout","error"));case 13:P()("Error",t.t0.data.error,"error");case 14:C.a.done();case 15:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}};r("2693");se.render=oe,se.__scopeId="data-v-2aa098df";var ue=se,ie={data:function(){return{profile:[]}},computed:{isEmpty:function(){return!Object.keys(this.profile).length}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return C.a.start(),e.profile=[],t.next=4,S.getProfile(localStorage.getItem("keeptoken"));case 4:r=t.sent,e.profile.push(r),C.a.done();case 7:case"end":return t.stop()}}),t)})))()},components:{ProfileCard:ue}};r("1148");ie.render=re,ie.__scopeId="data-v-03ffa4c5";var le=ie,fe=[{path:"/",name:"Home",component:K},{path:"/profile",name:"Profile Page",component:le}],de=Object(u["a"])({history:Object(u["b"])("/"),routes:fe});de.beforeEach(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Profile Page"!=t.name){e.next=12;break}if(a=localStorage.getItem("keeptoken"),a){e.next=4;break}return e.abrupt("return",n("/"));case 4:return e.prev=4,e.next=7,S.getProfile(a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e["catch"](4),e.abrupt("return",n("/"));case 12:if("Home"!=t.name){e.next=24;break}if(c=localStorage.getItem("keeptoken"),!c){e.next=24;break}return e.prev=15,e.next=18,S.getProfile(c);case 18:return e.abrupt("return",n("/profile"));case 21:return e.prev=21,e.t1=e["catch"](15),e.abrupt("return",n());case 24:n();case 25:case"end":return e.stop()}}),e,null,[[4,9],[15,21]])})));return function(t,r,n){return e.apply(this,arguments)}}());var be=de;r("a5d8"),r("c1c3");Object(n["c"])(o).use(be).mount("#app")},"8d63":function(e,t,r){},"9b12":function(e,t,r){},"9f5c":function(e,t,r){"use strict";r("8d63")},a731:function(e,t,r){"use strict";r("9b12")},a986:function(e,t,r){},c1c3:function(e,t,r){}});
//# sourceMappingURL=app.32277674.js.map